{% extends "main.tmpl" %}
{% block background %}
    <mxCell id="framelayer-1" value="Frame" parent="0"/>
# for item in items

# if item.type == "stage":
    <mxCell id="{{ item.id }}" value="{{ item.display_name }}" style="{{ item.style }}" parent="framelayer-1" vertex="1">
      <mxGeometry x="{{ item.x }}" y="80" width="{{ item.w }}" height="40" as="geometry" />
    </mxCell>
# endif

# if item.type == "step_label":
    <mxCell id="{{ item.id }}" value="{{ item.display_name }}" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;direction=west;horizontal=0;" parent="framelayer-1" vertex="1">
      <mxGeometry x="{{ item.x }}" y="130" width="25" height="100" as="geometry" />
    </mxCell>
    <mxCell id="{{ item.id }}-line" value="" style="line;strokeWidth=1;direction=south;html=1;rounded=0;strokeColor=#999999;" parent="framelayer-1" vertex="1">
      <mxGeometry x="{{ item.x + 7.5 }}" y="240" width="10" height="{{ item.h }}" as="geometry" />
    </mxCell>
# endif

# endfor

{% endblock background %}

{% block content %}
    <mxCell id="2" value="Content" parent="0" />
# for item in items

# if item.type == "bank"
    <mxCell id="{{ item.id }}" value="" style="group" vertex="1" connectable="0" parent="2">
      <mxGeometry x="40" y="{{ item.y }}" width="{{ item.w }}" height="20" as="geometry" />
    </mxCell>
# endif
# if item.type == "bank-line"
    <mxCell id="{{ item.parentid }}-line" value="" style="line;strokeWidth=1;html=1;rounded=0;strokeColor=#999999;" parent="{{ item.parentid }}" vertex="1">
      <mxGeometry x="120" y="5" width="{{ item.w }}" height="10" as="geometry" />
    </mxCell>
# endif

# if item.type == "label"
    <mxCell id="{{ item.parentid }}-label" value="{{ item.display_name }}" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="{{ item.parentid }}" vertex="1">
      <mxGeometry width="100" height="20" as="geometry" />
    </mxCell>
# endif

# if item.type == "step"
    <mxCell id="{{ item.id }}" value="{{ item.display_name }}" style="{{ item.style }}" parent="{{ item.parentid }}" vertex="1">
      <mxGeometry x="{{ item.x }}" width="20" height="20" as="geometry" />
    </mxCell>
# endif

# endfor

{% endblock content %}
